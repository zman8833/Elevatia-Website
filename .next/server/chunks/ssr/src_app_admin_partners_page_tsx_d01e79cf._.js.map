{"version":3,"sources":["../../../../src/app/admin/partners/page.tsx"],"sourcesContent":["'use client';\n\nexport const dynamic = 'force-dynamic';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { AuthProvider, useAuth } from '@/lib/auth-context';\nimport { Organization, CreateOrganizationForm, CreateAdminForm } from '@/types/partners';\n\nfunction AdminContent() {\n  const { user, loading, isSuperAdmin, signOut } = useAuth();\n  const router = useRouter();\n  const [organizations, setOrganizations] = useState<Organization[]>([]);\n  const [loadingOrgs, setLoadingOrgs] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showAddAdminModal, setShowAddAdminModal] = useState<string | null>(null);\n  const [creating, setCreating] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/partners/login');\n    } else if (!loading && !isSuperAdmin) {\n      router.push('/partners/login');\n    }\n  }, [user, loading, isSuperAdmin, router]);\n\n  const fetchOrganizations = async () => {\n    if (!user) return;\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations?listAll=true', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (res.ok) {\n        const data = await res.json();\n        setOrganizations(data.organizations || []);\n      }\n    } catch (error) {\n      console.error('Error fetching organizations:', error);\n    } finally {\n      setLoadingOrgs(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isSuperAdmin) {\n      fetchOrganizations();\n    }\n  }, [user, isSuperAdmin]);\n\n  const handleCreateOrg = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!user) return;\n    \n    setCreating(true);\n    setMessage(null);\n    const formData = new FormData(e.currentTarget);\n    \n    const orgData: CreateOrganizationForm = {\n      name: formData.get('name') as string,\n      slug: formData.get('slug') as string,\n      primaryColor: formData.get('primaryColor') as string || '#FF6B00',\n      tier: formData.get('tier') as 'starter' | 'growth' | 'enterprise',\n      maxActiveUsers: parseInt(formData.get('maxActiveUsers') as string),\n      defaultCodeDurationDays: parseInt(formData.get('defaultCodeDurationDays') as string),\n      contactEmail: formData.get('contactEmail') as string,\n      contactName: formData.get('contactName') as string,\n      description: formData.get('description') as string || undefined,\n      website: formData.get('website') as string || undefined,\n    };\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'POST',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orgData)\n      });\n      \n      if (res.ok) {\n        setShowCreateModal(false);\n        fetchOrganizations();\n        setMessage({ type: 'success', text: 'Organization created successfully' });\n      } else {\n        const data = await res.json();\n        setMessage({ type: 'error', text: data.error || 'Failed to create organization' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to create organization' });\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleAddAdmin = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!user || !showAddAdminModal) return;\n    \n    setCreating(true);\n    setMessage(null);\n    const formData = new FormData(e.currentTarget);\n    \n    const adminData: CreateAdminForm & { organizationId: string; action: string } = {\n      organizationId: showAddAdminModal,\n      action: 'addAdmin',\n      email: formData.get('email') as string,\n      role: formData.get('role') as 'owner' | 'admin' | 'viewer',\n      displayName: formData.get('displayName') as string || undefined,\n    };\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'PUT',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(adminData)\n      });\n      \n      if (res.ok) {\n        setShowAddAdminModal(null);\n        setMessage({ type: 'success', text: 'Admin added successfully' });\n      } else {\n        const data = await res.json();\n        setMessage({ type: 'error', text: data.error || 'Failed to add admin' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to add admin' });\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleToggleStatus = async (org: Organization) => {\n    if (!user) return;\n    \n    const newStatus = org.status === 'active' ? 'suspended' : 'active';\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'PATCH',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          organizationId: org.id,\n          status: newStatus\n        })\n      });\n      \n      if (res.ok) {\n        fetchOrganizations();\n        setMessage({ type: 'success', text: `Organization ${newStatus}` });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to update status' });\n    }\n  };\n\n  const handleSignOut = async () => {\n    await signOut();\n    router.push('/partners/login');\n  };\n\n  if (loading || !isSuperAdmin) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[#FDFAF6]\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-purple-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#FDFAF6]\">\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-md border-b border-gray-100 sticky top-0 z-40\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center gap-6\">\n              <Link href=\"/\" className=\"flex items-center space-x-2\">\n                <Image \n                  src=\"/elevatia-logo.png\" \n                  alt=\"Elevatia Logo\" \n                  width={32}\n                  height={32}\n                  className=\"h-8 w-auto\"\n                />\n                <span className=\"text-xl font-semibold gradient-text\">Elevatia</span>\n              </Link>\n              \n              <div className=\"flex items-center gap-2\">\n                <span className=\"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium\">\n                  Super Admin\n                </span>\n              </div>\n            </div>\n            \n            <button\n              onClick={handleSignOut}\n              className=\"text-sm text-gray-600 hover:text-gray-900 font-medium\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Message */}\n        {message && (\n          <div className={`mb-6 px-4 py-3 rounded-xl text-sm ${\n            message.type === 'success' \n              ? 'bg-green-50 border border-green-200 text-green-700' \n              : 'bg-red-50 border border-red-200 text-red-700'\n          }`}>\n            {message.text}\n          </div>\n        )}\n\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Partner Organizations</h1>\n            <p className=\"text-gray-600\">Manage all partner organizations and their access</p>\n          </div>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Create Organization\n          </button>\n        </div>\n\n        {/* Organizations Grid */}\n        {loadingOrgs ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin h-8 w-8 border-4 border-purple-500 border-t-transparent rounded-full\" />\n          </div>\n        ) : organizations.length === 0 ? (\n          <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-12 text-center\">\n            <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-2xl flex items-center justify-center\">\n              <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No organizations yet</h3>\n            <p className=\"text-gray-500 mb-4\">Create your first partner organization to get started.</p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"text-purple-600 font-medium hover:text-purple-700\"\n            >\n              Create organization â†’\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {organizations.map((org) => (\n              <div \n                key={org.id}\n                className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6 hover:shadow-md transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div \n                    className=\"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg\"\n                    style={{ backgroundColor: org.primaryColor || '#FF6B00' }}\n                  >\n                    {org.name.charAt(0)}\n                  </div>\n                  <span className={`px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                    org.status === 'active' \n                      ? 'bg-green-100 text-green-700' \n                      : org.status === 'suspended'\n                      ? 'bg-red-100 text-red-700'\n                      : 'bg-yellow-100 text-yellow-700'\n                  }`}>\n                    {org.status}\n                  </span>\n                </div>\n                \n                <h3 className=\"font-semibold text-gray-900 mb-1\">{org.name}</h3>\n                <p className=\"text-sm text-gray-500 mb-3\">/{org.slug}</p>\n                \n                <div className=\"flex flex-wrap gap-2 mb-4\">\n                  <span className=\"px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600 capitalize\">\n                    {org.tier}\n                  </span>\n                  <span className=\"px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600\">\n                    {org.maxActiveUsers} users max\n                  </span>\n                </div>\n                \n                <div className=\"text-sm text-gray-500 mb-4\">\n                  <p>{org.contactName}</p>\n                  <p>{org.contactEmail}</p>\n                </div>\n                \n                <div className=\"flex flex-wrap gap-2 pt-4 border-t border-gray-100\">\n                  <Link\n                    href={`/partners/dashboard/${org.slug}`}\n                    className=\"flex-1 py-2 px-3 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors text-center\"\n                  >\n                    View Dashboard\n                  </Link>\n                  <button\n                    onClick={() => setShowAddAdminModal(org.id)}\n                    className=\"py-2 px-3 bg-purple-100 text-purple-700 text-sm font-medium rounded-lg hover:bg-purple-200 transition-colors\"\n                  >\n                    Add Admin\n                  </button>\n                  <button\n                    onClick={() => handleToggleStatus(org)}\n                    className={`py-2 px-3 text-sm font-medium rounded-lg transition-colors ${\n                      org.status === 'active'\n                        ? 'bg-red-100 text-red-700 hover:bg-red-200'\n                        : 'bg-green-100 text-green-700 hover:bg-green-200'\n                    }`}\n                  >\n                    {org.status === 'active' ? 'Suspend' : 'Activate'}\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n\n      {/* Create Organization Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Create Organization</h3>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <form onSubmit={handleCreateOrg} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Organization Name</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    required\n                    placeholder=\"SurfSynergy\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Slug</label>\n                  <input\n                    type=\"text\"\n                    name=\"slug\"\n                    required\n                    placeholder=\"surfsynergy\"\n                    pattern=\"[a-z0-9-]+\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Contact Name</label>\n                  <input\n                    type=\"text\"\n                    name=\"contactName\"\n                    required\n                    placeholder=\"John Smith\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Contact Email</label>\n                  <input\n                    type=\"email\"\n                    name=\"contactEmail\"\n                    required\n                    placeholder=\"john@company.com\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tier</label>\n                  <select \n                    name=\"tier\" \n                    required\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    defaultValue=\"starter\"\n                  >\n                    <option value=\"starter\">Starter (50 users)</option>\n                    <option value=\"growth\">Growth (500 users)</option>\n                    <option value=\"enterprise\">Enterprise (Unlimited)</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Max Active Users</label>\n                  <input\n                    type=\"number\"\n                    name=\"maxActiveUsers\"\n                    required\n                    min=\"1\"\n                    defaultValue=\"50\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Default Code Duration (days)</label>\n                  <input\n                    type=\"number\"\n                    name=\"defaultCodeDurationDays\"\n                    required\n                    min=\"1\"\n                    defaultValue=\"30\"\n                    className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Brand Color</label>\n                  <input\n                    type=\"color\"\n                    name=\"primaryColor\"\n                    defaultValue=\"#FF6B00\"\n                    className=\"w-full h-10 px-1 py-1 border border-gray-200 rounded-xl cursor-pointer\"\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website (optional)</label>\n                <input\n                  type=\"url\"\n                  name=\"website\"\n                  placeholder=\"https://surfsynergy.com\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description (optional)</label>\n                <textarea\n                  name=\"description\"\n                  rows={2}\n                  placeholder=\"About this organization...\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n                />\n              </div>\n              \n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={creating}\n                  className=\"flex-1 py-2 px-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50\"\n                >\n                  {creating ? 'Creating...' : 'Create Organization'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add Admin Modal */}\n      {showAddAdminModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Add Partner Admin</h3>\n              <button\n                onClick={() => setShowAddAdminModal(null)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <form onSubmit={handleAddAdmin} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email Address</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  required\n                  placeholder=\"admin@company.com\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Must have an existing Elevatia account</p>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Display Name (optional)</label>\n                <input\n                  type=\"text\"\n                  name=\"displayName\"\n                  placeholder=\"John Smith\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Role</label>\n                <select \n                  name=\"role\" \n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  defaultValue=\"owner\"\n                >\n                  <option value=\"owner\">Owner (full access)</option>\n                  <option value=\"admin\">Admin (manage codes & paths)</option>\n                  <option value=\"viewer\">Viewer (read-only)</option>\n                </select>\n              </div>\n              \n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddAdminModal(null)}\n                  className=\"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={creating}\n                  className=\"flex-1 py-2 px-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50\"\n                >\n                  {creating ? 'Adding...' : 'Add Admin'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function AdminPartnersPage() {\n  return (\n    <AuthProvider>\n      <AdminContent />\n    </AuthProvider>\n  );\n}\n\n"],"names":[],"mappings":"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"}