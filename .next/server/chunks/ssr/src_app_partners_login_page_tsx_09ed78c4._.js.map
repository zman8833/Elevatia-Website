{"version":3,"sources":["../../../../src/app/partners/login/page.tsx","../../../../src/components/partners/LoginForm.tsx"],"sourcesContent":["'use client';\n\nexport const dynamic = 'force-dynamic';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { AuthProvider, useAuth } from '@/lib/auth-context';\nimport LoginForm from '@/components/partners/LoginForm';\n\nfunction LoginContent() {\n  const { user, organization, loading, isSuperAdmin } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading && user) {\n      if (isSuperAdmin) {\n        router.push('/admin/partners');\n      } else if (organization) {\n        router.push(`/partners/dashboard/${organization.slug}`);\n      }\n    }\n  }, [user, organization, loading, isSuperAdmin, router]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[#FDFAF6]\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#FDFAF6] flex flex-col\">\n      {/* Header */}\n      <nav className=\"bg-white/80 backdrop-blur-md border-b border-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <Link href=\"/\" className=\"flex items-center space-x-2\">\n              <Image \n                src=\"/elevatia-logo.png\" \n                alt=\"Elevatia Logo\" \n                width={32}\n                height={32}\n                className=\"h-8 w-auto\"\n              />\n              <span className=\"text-xl font-semibold gradient-text\">Elevatia</span>\n            </Link>\n            <Link \n              href=\"/partners\" \n              className=\"text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors\"\n            >\n              ← Back to Partners\n            </Link>\n          </div>\n        </div>\n      </nav>\n\n      {/* Login Form */}\n      <div className=\"flex-1 flex items-center justify-center px-4 py-12\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-8\">\n            <div className=\"text-center mb-8\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-100 to-yellow-100 rounded-2xl mb-4\">\n                <svg className=\"w-8 h-8 text-orange-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                </svg>\n              </div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Partner Dashboard</h1>\n              <p className=\"text-gray-600 mt-2\">Sign in to manage your Elevatia partnership</p>\n            </div>\n            \n            <LoginForm />\n            \n            <div className=\"mt-6 text-center\">\n              <p className=\"text-sm text-gray-500\">\n                Not a partner yet?{' '}\n                <Link href=\"/partners\" className=\"text-orange-600 hover:text-orange-700 font-medium\">\n                  Learn more\n                </Link>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function PartnersLoginPage() {\n  return (\n    <AuthProvider>\n      <LoginContent />\n    </AuthProvider>\n  );\n}\n\n","'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { RecaptchaVerifier, ConfirmationResult, AuthCredential } from 'firebase/auth';\nimport { auth } from '@/lib/firebase';\nimport { useAuth } from '@/lib/auth-context';\n\ntype AuthMethod = 'email' | 'apple' | 'phone';\ntype ViewState = 'login' | 'link-account';\n\nexport default function LoginForm() {\n  const [activeMethod, setActiveMethod] = useState<AuthMethod>('email');\n  const [viewState, setViewState] = useState<ViewState>('login');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const router = useRouter();\n  const { signIn, signInWithApple, sendPhoneCode, verifyPhoneCode, linkAccountWithEmail } = useAuth();\n\n  // Email state\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Phone state\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [verificationCode, setVerificationCode] = useState('');\n  const [codeSent, setCodeSent] = useState(false);\n  const [confirmationResult, setConfirmationResult] = useState<ConfirmationResult | null>(null);\n  const recaptchaVerifierRef = useRef<RecaptchaVerifier | null>(null);\n  const recaptchaContainerRef = useRef<HTMLDivElement>(null);\n\n  // Linking state\n  const [pendingCredential, setPendingCredential] = useState<AuthCredential | null>(null);\n  const [linkEmail, setLinkEmail] = useState('');\n  const [linkPassword, setLinkPassword] = useState('');\n\n  // Initialize reCAPTCHA\n  useEffect(() => {\n    if (activeMethod === 'phone' && recaptchaContainerRef.current && !recaptchaVerifierRef.current) {\n      recaptchaVerifierRef.current = new RecaptchaVerifier(auth, recaptchaContainerRef.current, {\n        size: 'invisible',\n        callback: () => {\n          // reCAPTCHA solved\n        },\n      });\n    }\n\n    return () => {\n      if (recaptchaVerifierRef.current) {\n        recaptchaVerifierRef.current.clear();\n        recaptchaVerifierRef.current = null;\n      }\n    };\n  }, [activeMethod]);\n\n  // Handle redirect after successful auth\n  const handleSuccess = (slug?: string) => {\n    if (slug) {\n      router.push(`/partners/dashboard/${slug}`);\n    } else {\n      router.push('/admin/partners');\n    }\n  };\n\n  // Email sign in\n  const handleEmailSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    const result = await signIn(email, password);\n    \n    if (result.success) {\n      handleSuccess(result.slug);\n    } else {\n      setError(result.error || 'Failed to sign in');\n      setLoading(false);\n    }\n  };\n\n  // Apple sign in\n  const handleAppleSignIn = async () => {\n    setLoading(true);\n    setError('');\n\n    const result = await signInWithApple();\n    \n    if (result.success) {\n      handleSuccess(result.slug);\n    } else if (result.needsLinking && result.pendingCredential) {\n      // Show linking UI\n      setPendingCredential(result.pendingCredential);\n      setViewState('link-account');\n      setLoading(false);\n    } else {\n      setError(result.error || 'Failed to sign in with Apple');\n      setLoading(false);\n    }\n  };\n\n  // Send phone verification code\n  const handleSendCode = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!recaptchaVerifierRef.current) {\n      setError('reCAPTCHA not initialized. Please refresh the page.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    // Format phone number (add +1 if no country code)\n    let formattedPhone = phoneNumber.trim();\n    if (!formattedPhone.startsWith('+')) {\n      formattedPhone = '+1' + formattedPhone.replace(/\\D/g, '');\n    }\n\n    const result = await sendPhoneCode(formattedPhone, recaptchaVerifierRef.current);\n    \n    if (result.success && result.confirmationResult) {\n      setConfirmationResult(result.confirmationResult);\n      setCodeSent(true);\n    } else {\n      setError(result.error || 'Failed to send verification code');\n      // Reset reCAPTCHA on error\n      if (recaptchaVerifierRef.current) {\n        recaptchaVerifierRef.current.clear();\n        recaptchaVerifierRef.current = null;\n      }\n    }\n    setLoading(false);\n  };\n\n  // Verify phone code\n  const handleVerifyCode = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!confirmationResult) {\n      setError('Please request a new verification code');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    const result = await verifyPhoneCode(confirmationResult, verificationCode);\n    \n    if (result.success) {\n      handleSuccess(result.slug);\n    } else if (result.needsLinking && result.pendingCredential) {\n      // Show linking UI\n      setPendingCredential(result.pendingCredential);\n      setViewState('link-account');\n      setLoading(false);\n    } else {\n      setError(result.error || 'Invalid verification code');\n      setLoading(false);\n    }\n  };\n\n  // Link account with email/password\n  const handleLinkAccount = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!pendingCredential) {\n      setError('No pending credential. Please try signing in again.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    const result = await linkAccountWithEmail(linkEmail, linkPassword, pendingCredential);\n    \n    if (result.success) {\n      handleSuccess(result.slug);\n    } else {\n      setError(result.error || 'Failed to link accounts');\n      setLoading(false);\n    }\n  };\n\n  // Reset to login view\n  const handleCancelLink = () => {\n    setViewState('login');\n    setPendingCredential(null);\n    setLinkEmail('');\n    setLinkPassword('');\n    setError('');\n  };\n\n  // Reset phone state when switching methods\n  const handleMethodChange = (method: AuthMethod) => {\n    setActiveMethod(method);\n    setError('');\n    setCodeSent(false);\n    setVerificationCode('');\n    setConfirmationResult(null);\n  };\n\n  const LoadingSpinner = () => (\n    <span className=\"flex items-center justify-center gap-2\">\n      <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n      </svg>\n      {viewState === 'link-account' ? 'Linking...' : \n       activeMethod === 'phone' && codeSent ? 'Verifying...' : 'Signing in...'}\n    </span>\n  );\n\n  // Link Account View\n  if (viewState === 'link-account') {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg className=\"w-8 h-8 text-orange-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Link Your Account</h3>\n          <p className=\"text-sm text-gray-600\">\n            Sign in with your existing partner email and password to link this sign-in method to your account.\n          </p>\n        </div>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleLinkAccount} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"link-email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Partner Email\n            </label>\n            <input\n              id=\"link-email\"\n              type=\"email\"\n              value={linkEmail}\n              onChange={(e) => setLinkEmail(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80\"\n              placeholder=\"you@company.com\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"link-password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Password\n            </label>\n            <input\n              id=\"link-password\"\n              type=\"password\"\n              value={linkPassword}\n              onChange={(e) => setLinkPassword(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80\"\n              placeholder=\"••••••••\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full py-3 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n          >\n            {loading ? <LoadingSpinner /> : 'Link & Sign In'}\n          </button>\n\n          <button\n            type=\"button\"\n            onClick={handleCancelLink}\n            className=\"w-full py-2 text-sm text-gray-600 hover:text-gray-900 transition-colors\"\n          >\n            Cancel\n          </button>\n        </form>\n      </div>\n    );\n  }\n\n  // Main Login View\n  return (\n    <div className=\"space-y-6\">\n      {/* Method Tabs */}\n      <div className=\"flex rounded-xl bg-gray-100 p-1\">\n        {[\n          { id: 'email' as AuthMethod, label: 'Email', icon: (\n            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n            </svg>\n          )},\n          { id: 'apple' as AuthMethod, label: 'Apple', icon: (\n            <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n            </svg>\n          )},\n          { id: 'phone' as AuthMethod, label: 'Phone', icon: (\n            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n            </svg>\n          )},\n        ].map((method) => (\n          <button\n            key={method.id}\n            type=\"button\"\n            onClick={() => handleMethodChange(method.id)}\n            className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-sm font-medium transition-all ${\n              activeMethod === method.id\n                ? 'bg-white text-gray-900 shadow-sm'\n                : 'text-gray-600 hover:text-gray-900'\n            }`}\n          >\n            {method.icon}\n            {method.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm\">\n          {error}\n        </div>\n      )}\n\n      {/* Email Form */}\n      {activeMethod === 'email' && (\n        <form onSubmit={handleEmailSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email Address\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80\"\n              placeholder=\"you@company.com\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80\"\n              placeholder=\"••••••••\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full py-3 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n          >\n            {loading ? <LoadingSpinner /> : 'Sign In with Email'}\n          </button>\n        </form>\n      )}\n\n      {/* Apple Sign In */}\n      {activeMethod === 'apple' && (\n        <div className=\"space-y-4\">\n          <p className=\"text-sm text-gray-600 text-center\">\n            Sign in with the same Apple ID you use in the Elevatia app.\n          </p>\n          <button\n            type=\"button\"\n            onClick={handleAppleSignIn}\n            disabled={loading}\n            className=\"w-full py-3 px-4 bg-black text-white font-semibold rounded-xl hover:bg-gray-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3\"\n          >\n            {loading ? (\n              <LoadingSpinner />\n            ) : (\n              <>\n                <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n                </svg>\n                Sign in with Apple\n              </>\n            )}\n          </button>\n        </div>\n      )}\n\n      {/* Phone Sign In */}\n      {activeMethod === 'phone' && (\n        <div className=\"space-y-4\">\n          {!codeSent ? (\n            <form onSubmit={handleSendCode} className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600 text-center\">\n                Enter the phone number linked to your Elevatia account.\n              </p>\n              <div>\n                <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Phone Number\n                </label>\n                <input\n                  id=\"phone\"\n                  type=\"tel\"\n                  value={phoneNumber}\n                  onChange={(e) => setPhoneNumber(e.target.value)}\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80\"\n                  placeholder=\"+1 (555) 123-4567\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Include country code (e.g., +1 for US)</p>\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full py-3 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n              >\n                {loading ? <LoadingSpinner /> : 'Send Verification Code'}\n              </button>\n            </form>\n          ) : (\n            <form onSubmit={handleVerifyCode} className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600 text-center\">\n                Enter the 6-digit code sent to {phoneNumber}\n              </p>\n              <div>\n                <label htmlFor=\"code\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Verification Code\n                </label>\n                <input\n                  id=\"code\"\n                  type=\"text\"\n                  value={verificationCode}\n                  onChange={(e) => setVerificationCode(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n                  required\n                  maxLength={6}\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white/80 text-center text-2xl tracking-widest font-mono\"\n                  placeholder=\"000000\"\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={loading || verificationCode.length !== 6}\n                className=\"w-full py-3 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n              >\n                {loading ? <LoadingSpinner /> : 'Verify & Sign In'}\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setCodeSent(false);\n                  setVerificationCode('');\n                  setConfirmationResult(null);\n                  if (recaptchaVerifierRef.current) {\n                    recaptchaVerifierRef.current.clear();\n                    recaptchaVerifierRef.current = null;\n                  }\n                }}\n                className=\"w-full py-2 text-sm text-gray-600 hover:text-gray-900 transition-colors\"\n              >\n                Use a different phone number\n              </button>\n            </form>\n          )}\n        </div>\n      )}\n\n      {/* reCAPTCHA container (invisible) */}\n      <div ref={recaptchaContainerRef} id=\"recaptcha-container\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}