{"version":3,"sources":["../../../../src/app/partners/dashboard/%5Bslug%5D/page.tsx","../../../../src/components/partners/DashboardTabs.tsx","../../../../src/components/partners/StatsCard.tsx","../../../../src/components/partners/OverviewTab.tsx","../../../../src/components/partners/CodesTab.tsx","../../../../src/components/partners/UsersTab.tsx","../../../../src/components/partners/PathsTab.tsx","../../../../src/components/partners/SettingsTab.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/lib/auth-context';\nimport DashboardTabs from '@/components/partners/DashboardTabs';\n\nexport default function PartnerDashboardPage() {\n  const { organization } = useAuth();\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n          Welcome back{organization?.contactName ? `, ${organization.contactName.split(' ')[0]}` : ''}\n        </h1>\n        <p className=\"text-gray-600\">\n          Manage your Elevatia partnership and track engagement\n        </p>\n      </div>\n\n      {/* Dashboard Tabs */}\n      <DashboardTabs />\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useState } from 'react';\nimport OverviewTab from './OverviewTab';\nimport CodesTab from './CodesTab';\nimport UsersTab from './UsersTab';\nimport PathsTab from './PathsTab';\nimport SettingsTab from './SettingsTab';\n\nconst tabs = [\n  { id: 'overview', label: 'Overview', icon: (\n    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" />\n    </svg>\n  )},\n  { id: 'codes', label: 'Codes', icon: (\n    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n    </svg>\n  )},\n  { id: 'users', label: 'Users', icon: (\n    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n    </svg>\n  )},\n  { id: 'paths', label: 'Paths', icon: (\n    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" />\n    </svg>\n  )},\n  { id: 'settings', label: 'Settings', icon: (\n    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  )},\n];\n\nexport default function DashboardTabs() {\n  const [activeTab, setActiveTab] = useState('overview');\n\n  const renderTab = () => {\n    switch (activeTab) {\n      case 'overview':\n        return <OverviewTab />;\n      case 'codes':\n        return <CodesTab />;\n      case 'users':\n        return <UsersTab />;\n      case 'paths':\n        return <PathsTab />;\n      case 'settings':\n        return <SettingsTab />;\n      default:\n        return <OverviewTab />;\n    }\n  };\n\n  return (\n    <div>\n      {/* Tab Navigation */}\n      <div className=\"border-b border-gray-200 mb-8\">\n        <nav className=\"flex gap-1 -mb-px overflow-x-auto\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              data-tab={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${\n                activeTab === tab.id\n                  ? 'border-orange-500 text-orange-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              {tab.icon}\n              {tab.label}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Tab Content */}\n      <div>{renderTab()}</div>\n    </div>\n  );\n}\n\n","'use client';\n\ninterface StatsCardProps {\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  icon: React.ReactNode;\n  trend?: {\n    value: number;\n    isPositive: boolean;\n  };\n  color?: 'orange' | 'green' | 'blue' | 'purple';\n}\n\nconst colorClasses = {\n  orange: 'from-orange-100 to-yellow-100 text-orange-600',\n  green: 'from-green-100 to-emerald-100 text-green-600',\n  blue: 'from-blue-100 to-cyan-100 text-blue-600',\n  purple: 'from-purple-100 to-pink-100 text-purple-600',\n};\n\nexport default function StatsCard({ title, value, subtitle, icon, trend, color = 'orange' }: StatsCardProps) {\n  return (\n    <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-gray-500 mb-1\">{title}</p>\n          <p className=\"text-3xl font-bold text-gray-900\">{value}</p>\n          {subtitle && (\n            <p className=\"text-sm text-gray-500 mt-1\">{subtitle}</p>\n          )}\n          {trend && (\n            <div className={`flex items-center gap-1 mt-2 text-sm ${trend.isPositive ? 'text-green-600' : 'text-red-600'}`}>\n              <svg \n                className={`w-4 h-4 ${!trend.isPositive && 'rotate-180'}`} \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\n              </svg>\n              <span>{Math.abs(trend.value)}%</span>\n            </div>\n          )}\n        </div>\n        <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${colorClasses[color]} flex items-center justify-center`}>\n          {icon}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/lib/auth-context';\nimport StatsCard from './StatsCard';\nimport { PartnerStats } from '@/types/partners';\n\nexport default function OverviewTab() {\n  const { user, organization } = useAuth();\n  const [stats, setStats] = useState<PartnerStats & { chartData?: { date: string; redemptions: number }[] } | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchStats() {\n      if (!user || !organization) return;\n      \n      try {\n        const token = await user.getIdToken();\n        const res = await fetch(`/api/partners/stats?organizationId=${organization.id}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        if (res.ok) {\n          const data = await res.json();\n          setStats(data);\n        }\n      } catch (error) {\n        console.error('Error fetching stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    fetchStats();\n  }, [user, organization]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  if (!stats) {\n    return (\n      <div className=\"text-center py-12 text-gray-500\">\n        Unable to load statistics\n      </div>\n    );\n  }\n\n  // Simple bar chart\n  const maxRedemptions = Math.max(...(stats.chartData?.map(d => d.redemptions) || [1]), 1);\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <StatsCard\n          title=\"Active Users\"\n          value={stats.activeUsers}\n          subtitle=\"Currently using access\"\n          color=\"green\"\n          icon={\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n          }\n        />\n        <StatsCard\n          title=\"Total Redemptions\"\n          value={stats.totalRedemptions}\n          subtitle=\"All time\"\n          color=\"blue\"\n          icon={\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          }\n        />\n        <StatsCard\n          title=\"Active Codes\"\n          value={stats.activeCodesCount}\n          subtitle=\"Ready to use\"\n          color=\"orange\"\n          icon={\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n            </svg>\n          }\n        />\n        <StatsCard\n          title=\"Expired Users\"\n          value={stats.expiredUsers}\n          subtitle=\"Access ended\"\n          color=\"purple\"\n          icon={\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          }\n        />\n      </div>\n\n      {/* Redemptions Chart */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-100\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Redemptions (Last 30 Days)</h3>\n        <div className=\"h-48 flex items-end gap-1\">\n          {stats.chartData?.map((day, index) => (\n            <div key={day.date} className=\"flex-1 flex flex-col items-center gap-1\">\n              <div \n                className=\"w-full bg-gradient-to-t from-orange-500 to-yellow-400 rounded-t transition-all hover:from-orange-600 hover:to-yellow-500\"\n                style={{ \n                  height: `${Math.max((day.redemptions / maxRedemptions) * 100, 4)}%`,\n                  minHeight: day.redemptions > 0 ? '8px' : '2px',\n                  opacity: day.redemptions > 0 ? 1 : 0.3\n                }}\n                title={`${day.date}: ${day.redemptions} redemptions`}\n              />\n              {index % 5 === 0 && (\n                <span className=\"text-xs text-gray-400 -rotate-45 origin-left whitespace-nowrap\">\n                  {new Date(day.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                </span>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 border border-orange-100\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n        <div className=\"flex flex-wrap gap-3\">\n          <button \n            onClick={() => document.querySelector('[data-tab=\"codes\"]')?.dispatchEvent(new Event('click'))}\n            className=\"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200\"\n          >\n            Generate New Code\n          </button>\n          <button \n            onClick={() => document.querySelector('[data-tab=\"paths\"]')?.dispatchEvent(new Event('click'))}\n            className=\"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200\"\n          >\n            Create Path\n          </button>\n          <button \n            onClick={() => document.querySelector('[data-tab=\"settings\"]')?.dispatchEvent(new Event('click'))}\n            className=\"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200\"\n          >\n            Update Profile\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/lib/auth-context';\nimport { PartnerCode, CreateCodeForm } from '@/types/partners';\n\nexport default function CodesTab() {\n  const { user, organization } = useAuth();\n  const [codes, setCodes] = useState<PartnerCode[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [copiedCode, setCopiedCode] = useState<string | null>(null);\n\n  const fetchCodes = async () => {\n    if (!user || !organization) return;\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch(`/api/partners/codes?organizationId=${organization.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (res.ok) {\n        const data = await res.json();\n        setCodes(data.codes);\n      }\n    } catch (error) {\n      console.error('Error fetching codes:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCodes();\n  }, [user, organization]);\n\n  const handleCreateCode = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!user || !organization) return;\n    \n    setCreating(true);\n    const formData = new FormData(e.currentTarget);\n    \n    const codeData: CreateCodeForm & { organizationId: string } = {\n      organizationId: organization.id,\n      type: formData.get('type') as 'single' | 'multi',\n      maxRedemptions: formData.get('type') === 'multi' ? parseInt(formData.get('maxRedemptions') as string) : undefined,\n      expiresAt: formData.get('expiresAt') as string,\n      durationDays: parseInt(formData.get('durationDays') as string) || organization.defaultCodeDurationDays,\n      label: formData.get('label') as string || undefined,\n      notes: formData.get('notes') as string || undefined,\n      prefix: formData.get('prefix') as string || undefined,\n    };\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/codes', {\n        method: 'POST',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(codeData)\n      });\n      \n      if (res.ok) {\n        setShowCreateModal(false);\n        fetchCodes();\n      }\n    } catch (error) {\n      console.error('Error creating code:', error);\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleToggleActive = async (code: PartnerCode) => {\n    if (!user || !organization) return;\n    \n    try {\n      const token = await user.getIdToken();\n      await fetch('/api/partners/codes', {\n        method: 'PATCH',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          codeId: code.id,\n          organizationId: organization.id,\n          isActive: !code.isActive\n        })\n      });\n      \n      fetchCodes();\n    } catch (error) {\n      console.error('Error toggling code:', error);\n    }\n  };\n\n  const copyToClipboard = (code: string) => {\n    navigator.clipboard.writeText(code);\n    setCopiedCode(code);\n    setTimeout(() => setCopiedCode(null), 2000);\n  };\n\n  const formatDate = (timestamp: { seconds?: number } | string) => {\n    const date = typeof timestamp === 'object' && timestamp.seconds \n      ? new Date(timestamp.seconds * 1000) \n      : new Date(timestamp as string);\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n  };\n\n  const isExpired = (timestamp: { seconds?: number } | string) => {\n    const date = typeof timestamp === 'object' && timestamp.seconds \n      ? new Date(timestamp.seconds * 1000) \n      : new Date(timestamp as string);\n    return date < new Date();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">Partner Codes</h2>\n          <p className=\"text-sm text-gray-500\">Generate and manage access codes for your users</p>\n        </div>\n        <button\n          onClick={() => setShowCreateModal(true)}\n          className=\"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Generate Code\n        </button>\n      </div>\n\n      {/* Codes Table */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50/50\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Code</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Label</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Type</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Redemptions</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Expires</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Status</th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-100\">\n              {codes.length === 0 ? (\n                <tr>\n                  <td colSpan={7} className=\"px-6 py-12 text-center text-gray-500\">\n                    No codes yet. Generate your first code to get started.\n                  </td>\n                </tr>\n              ) : (\n                codes.map((code) => (\n                  <tr key={code.id} className=\"hover:bg-gray-50/50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <code className=\"font-mono text-sm font-semibold text-gray-900 bg-gray-100 px-2 py-1 rounded\">\n                          {code.code}\n                        </code>\n                        <button\n                          onClick={() => copyToClipboard(code.code)}\n                          className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\n                          title=\"Copy code\"\n                        >\n                          {copiedCode === code.code ? (\n                            <svg className=\"w-4 h-4 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                          ) : (\n                            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                            </svg>\n                          )}\n                        </button>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {code.label || <span className=\"text-gray-400\">—</span>}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        code.type === 'multi' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'\n                      }`}>\n                        {code.type === 'multi' ? 'Multi-use' : 'Single-use'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {code.currentRedemptions}\n                      {code.type === 'multi' && code.maxRedemptions && (\n                        <span className=\"text-gray-400\"> / {code.maxRedemptions}</span>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {formatDate(code.expiresAt)}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      {!code.isActive ? (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600\">\n                          Disabled\n                        </span>\n                      ) : isExpired(code.expiresAt) ? (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700\">\n                          Expired\n                        </span>\n                      ) : code.type === 'single' && code.currentRedemptions >= 1 ? (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600\">\n                          Used\n                        </span>\n                      ) : code.type === 'multi' && code.maxRedemptions && code.currentRedemptions >= code.maxRedemptions ? (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700\">\n                          Maxed\n                        </span>\n                      ) : (\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700\">\n                          Active\n                        </span>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button\n                        onClick={() => handleToggleActive(code)}\n                        className={`text-sm font-medium transition-colors ${\n                          code.isActive \n                            ? 'text-red-600 hover:text-red-700' \n                            : 'text-green-600 hover:text-green-700'\n                        }`}\n                      >\n                        {code.isActive ? 'Disable' : 'Enable'}\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Create Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Generate New Code</h3>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <form onSubmit={handleCreateCode} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Code Type</label>\n                <select \n                  name=\"type\" \n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                  defaultValue=\"multi\"\n                >\n                  <option value=\"single\">Single-use (1 redemption)</option>\n                  <option value=\"multi\">Multi-use (multiple redemptions)</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Max Redemptions (for multi-use)</label>\n                <input\n                  type=\"number\"\n                  name=\"maxRedemptions\"\n                  min=\"1\"\n                  defaultValue=\"100\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Code Expiration</label>\n                <input\n                  type=\"date\"\n                  name=\"expiresAt\"\n                  required\n                  min={new Date().toISOString().split('T')[0]}\n                  defaultValue={new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Access Duration (days after redemption)</label>\n                <input\n                  type=\"number\"\n                  name=\"durationDays\"\n                  min=\"1\"\n                  defaultValue={organization?.defaultCodeDurationDays || 30}\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Label (optional)</label>\n                <input\n                  type=\"text\"\n                  name=\"label\"\n                  placeholder=\"e.g., Summer 2025 Promo\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Code Prefix (optional)</label>\n                <input\n                  type=\"text\"\n                  name=\"prefix\"\n                  placeholder={organization?.slug.toUpperCase().slice(0, 4) || 'CODE'}\n                  maxLength={6}\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent uppercase\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Notes (optional)</label>\n                <textarea\n                  name=\"notes\"\n                  rows={2}\n                  placeholder=\"Internal notes about this code...\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none\"\n                />\n              </div>\n              \n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={creating}\n                  className=\"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50\"\n                >\n                  {creating ? 'Creating...' : 'Generate Code'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/lib/auth-context';\n\ninterface AffiliatedUser {\n  id: string;\n  redeemedAt: string;\n  accessExpiresAt: string;\n  codeUsed: string;\n  isActive: boolean;\n}\n\nexport default function UsersTab() {\n  const { user, organization } = useAuth();\n  const [users, setUsers] = useState<AffiliatedUser[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({ total: 0, activeCount: 0 });\n\n  useEffect(() => {\n    async function fetchUsers() {\n      if (!user || !organization) return;\n      \n      try {\n        const token = await user.getIdToken();\n        const res = await fetch(`/api/partners/users?organizationId=${organization.id}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        if (res.ok) {\n          const data = await res.json();\n          setUsers(data.users);\n          setStats({ total: data.total, activeCount: data.activeCount });\n        }\n      } catch (error) {\n        console.error('Error fetching users:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    fetchUsers();\n  }, [user, organization]);\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric', \n      year: 'numeric' \n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900\">Affiliated Users</h2>\n        <p className=\"text-sm text-gray-500\">Users who have redeemed your partner codes (anonymized)</p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-gray-100\">\n          <p className=\"text-sm text-gray-500\">Total Users</p>\n          <p className=\"text-2xl font-bold text-gray-900\">{stats.total}</p>\n        </div>\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-gray-100\">\n          <p className=\"text-sm text-gray-500\">Active Users</p>\n          <p className=\"text-2xl font-bold text-green-600\">{stats.activeCount}</p>\n        </div>\n      </div>\n\n      {/* Users Table */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50/50\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">User ID</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Code Used</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Redeemed</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Access Expires</th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Status</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-100\">\n              {users.length === 0 ? (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-12 text-center text-gray-500\">\n                    No users have redeemed codes yet.\n                  </td>\n                </tr>\n              ) : (\n                users.map((user) => (\n                  <tr key={user.id} className=\"hover:bg-gray-50/50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <code className=\"font-mono text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded\">\n                        {user.id}\n                      </code>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <code className=\"font-mono text-sm text-gray-900 bg-gray-100 px-2 py-1 rounded\">\n                        {user.codeUsed}\n                      </code>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {formatDate(user.redeemedAt)}\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                      {formatDate(user.accessExpiresAt)}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        user.isActive \n                          ? 'bg-green-100 text-green-700' \n                          : 'bg-gray-100 text-gray-600'\n                      }`}>\n                        {user.isActive ? 'Active' : 'Expired'}\n                      </span>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Privacy Notice */}\n      <div className=\"bg-blue-50 border border-blue-100 rounded-xl p-4 text-sm text-blue-700\">\n        <div className=\"flex gap-3\">\n          <svg className=\"w-5 h-5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <p className=\"font-medium\">Privacy Protection</p>\n            <p className=\"mt-1 text-blue-600\">User data is anonymized. You can see redemption patterns but not personal information like names or emails.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/lib/auth-context';\nimport { PartnerPath, CreatePathForm } from '@/types/partners';\n\n// Common SF Symbol alternatives for web\nconst iconOptions = [\n  { value: 'figure.walk', label: 'Walking' },\n  { value: 'heart.fill', label: 'Heart' },\n  { value: 'brain.head.profile', label: 'Brain' },\n  { value: 'leaf.fill', label: 'Leaf' },\n  { value: 'drop.fill', label: 'Water' },\n  { value: 'moon.fill', label: 'Moon' },\n  { value: 'sun.max.fill', label: 'Sun' },\n  { value: 'bolt.fill', label: 'Energy' },\n  { value: 'flame.fill', label: 'Flame' },\n  { value: 'star.fill', label: 'Star' },\n];\n\nconst colorOptions = [\n  { value: '#FF6B6B', label: 'Red' },\n  { value: '#4ECDC4', label: 'Teal' },\n  { value: '#45B7D1', label: 'Blue' },\n  { value: '#96CEB4', label: 'Green' },\n  { value: '#FFEAA7', label: 'Yellow' },\n  { value: '#DDA0DD', label: 'Purple' },\n  { value: '#FF8C42', label: 'Orange' },\n  { value: '#A8E6CF', label: 'Mint' },\n];\n\nconst categoryOptions = [\n  'Fitness',\n  'Nutrition',\n  'Mindfulness',\n  'Sleep',\n  'Recovery',\n  'Performance',\n  'Wellness',\n  'Custom',\n];\n\nexport default function PathsTab() {\n  const { user, organization } = useAuth();\n  const [paths, setPaths] = useState<PartnerPath[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [editingPath, setEditingPath] = useState<PartnerPath | null>(null);\n\n  const fetchPaths = async () => {\n    if (!user || !organization) return;\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch(`/api/partners/paths?organizationId=${organization.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (res.ok) {\n        const data = await res.json();\n        setPaths(data.paths);\n      }\n    } catch (error) {\n      console.error('Error fetching paths:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPaths();\n  }, [user, organization]);\n\n  const handleCreatePath = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!user || !organization) return;\n    \n    setCreating(true);\n    const formData = new FormData(e.currentTarget);\n    \n    const pathData: CreatePathForm & { organizationId: string } = {\n      organizationId: organization.id,\n      pathId: formData.get('pathId') as string,\n      title: formData.get('title') as string,\n      description: formData.get('description') as string,\n      icon: formData.get('icon') as string,\n      color: formData.get('color') as string,\n      category: formData.get('category') as string,\n    };\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/paths', {\n        method: 'POST',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(pathData)\n      });\n      \n      if (res.ok) {\n        setShowCreateModal(false);\n        fetchPaths();\n      }\n    } catch (error) {\n      console.error('Error creating path:', error);\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleToggleActive = async (path: PartnerPath) => {\n    if (!user || !organization) return;\n    \n    try {\n      const token = await user.getIdToken();\n      await fetch('/api/partners/paths', {\n        method: 'PATCH',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          pathId: path.id,\n          organizationId: organization.id,\n          isActive: !path.isActive\n        })\n      });\n      \n      fetchPaths();\n    } catch (error) {\n      console.error('Error toggling path:', error);\n    }\n  };\n\n  const handleDeletePath = async (path: PartnerPath) => {\n    if (!user || !organization) return;\n    if (!confirm('Are you sure you want to delete this path?')) return;\n    \n    try {\n      const token = await user.getIdToken();\n      await fetch(`/api/partners/paths?pathId=${path.id}&organizationId=${organization.id}`, {\n        method: 'DELETE',\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      fetchPaths();\n    } catch (error) {\n      console.error('Error deleting path:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">Partner Paths</h2>\n          <p className=\"text-sm text-gray-500\">Create exclusive wellness paths for your users</p>\n        </div>\n        <button\n          onClick={() => setShowCreateModal(true)}\n          className=\"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Create Path\n        </button>\n      </div>\n\n      {/* Paths Grid */}\n      {paths.length === 0 ? (\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-12 text-center\">\n          <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-2xl flex items-center justify-center\">\n            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No paths yet</h3>\n          <p className=\"text-gray-500 mb-4\">Create your first exclusive wellness path for your users.</p>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"text-orange-600 font-medium hover:text-orange-700\"\n          >\n            Create your first path →\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {paths.map((path) => (\n            <div \n              key={path.id} \n              className={`bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6 transition-all hover:shadow-md ${\n                !path.isActive && 'opacity-60'\n              }`}\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div \n                  className=\"w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl\"\n                  style={{ backgroundColor: path.color }}\n                >\n                  {iconOptions.find(i => i.value === path.icon)?.label?.charAt(0) || '★'}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                    path.isActive ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-600'\n                  }`}>\n                    {path.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                </div>\n              </div>\n              \n              <h3 className=\"font-semibold text-gray-900 mb-1\">{path.title}</h3>\n              <p className=\"text-sm text-gray-500 mb-3 line-clamp-2\">{path.description}</p>\n              \n              <div className=\"flex items-center gap-2 mb-4\">\n                <span className=\"px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600\">\n                  {path.category}\n                </span>\n                <span className=\"text-xs text-gray-400\">\n                  {path.pathId}\n                </span>\n              </div>\n              \n              <div className=\"flex items-center gap-2 pt-4 border-t border-gray-100\">\n                <button\n                  onClick={() => handleToggleActive(path)}\n                  className={`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${\n                    path.isActive \n                      ? 'bg-gray-100 text-gray-700 hover:bg-gray-200' \n                      : 'bg-green-100 text-green-700 hover:bg-green-200'\n                  }`}\n                >\n                  {path.isActive ? 'Deactivate' : 'Activate'}\n                </button>\n                <button\n                  onClick={() => handleDeletePath(path)}\n                  className=\"py-2 px-3 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Create Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Create New Path</h3>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <form onSubmit={handleCreatePath} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Path ID</label>\n                <input\n                  type=\"text\"\n                  name=\"pathId\"\n                  required\n                  placeholder=\"e.g., recovery, wellness101\"\n                  pattern=\"[a-z0-9_]+\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Lowercase letters, numbers, and underscores only</p>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Title</label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  required\n                  placeholder=\"e.g., Post-Workout Recovery\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                <textarea\n                  name=\"description\"\n                  required\n                  rows={3}\n                  placeholder=\"Describe what this path helps users achieve...\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n                <select \n                  name=\"category\" \n                  required\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                >\n                  {categoryOptions.map(cat => (\n                    <option key={cat} value={cat}>{cat}</option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Icon</label>\n                <select \n                  name=\"icon\" \n                  required\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                >\n                  {iconOptions.map(icon => (\n                    <option key={icon.value} value={icon.value}>{icon.label}</option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Color</label>\n                <div className=\"grid grid-cols-4 gap-2\">\n                  {colorOptions.map(color => (\n                    <label key={color.value} className=\"cursor-pointer\">\n                      <input \n                        type=\"radio\" \n                        name=\"color\" \n                        value={color.value} \n                        defaultChecked={color.value === colorOptions[0].value}\n                        className=\"sr-only peer\"\n                      />\n                      <div \n                        className=\"w-full h-10 rounded-lg border-2 border-transparent peer-checked:border-gray-900 transition-all\"\n                        style={{ backgroundColor: color.value }}\n                        title={color.label}\n                      />\n                    </label>\n                  ))}\n                </div>\n              </div>\n              \n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={creating}\n                  className=\"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50\"\n                >\n                  {creating ? 'Creating...' : 'Create Path'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/lib/auth-context';\nimport { PartnerAdmin, CreateAdminForm } from '@/types/partners';\n\nexport default function SettingsTab() {\n  const { user, organization, partnerAdmin } = useAuth();\n  const [admins, setAdmins] = useState<PartnerAdmin[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [adding, setAdding] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  // Form state\n  const [description, setDescription] = useState('');\n  const [website, setWebsite] = useState('');\n  const [primaryColor, setPrimaryColor] = useState('#FF6B00');\n\n  useEffect(() => {\n    if (organization) {\n      setDescription(organization.description || '');\n      setWebsite(organization.website || '');\n      setPrimaryColor(organization.primaryColor || '#FF6B00');\n    }\n  }, [organization]);\n\n  const fetchAdmins = async () => {\n    if (!user || !organization) return;\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch(`/api/partners/organizations?organizationId=${organization.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (res.ok) {\n        const data = await res.json();\n        setAdmins(data.admins || []);\n      }\n    } catch (error) {\n      console.error('Error fetching admins:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAdmins();\n  }, [user, organization]);\n\n  const handleSaveProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !organization) return;\n    \n    setSaving(true);\n    setMessage(null);\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'PATCH',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          organizationId: organization.id,\n          description,\n          website,\n          primaryColor,\n        })\n      });\n      \n      if (res.ok) {\n        setMessage({ type: 'success', text: 'Profile updated successfully' });\n      } else {\n        const data = await res.json();\n        setMessage({ type: 'error', text: data.error || 'Failed to update profile' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to update profile' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleAddAdmin = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!user || !organization) return;\n    \n    setAdding(true);\n    const formData = new FormData(e.currentTarget);\n    \n    const adminData: CreateAdminForm & { organizationId: string; action: string } = {\n      organizationId: organization.id,\n      action: 'addAdmin',\n      email: formData.get('email') as string,\n      role: formData.get('role') as 'owner' | 'admin' | 'viewer',\n      displayName: formData.get('displayName') as string || undefined,\n    };\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'PUT',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(adminData)\n      });\n      \n      if (res.ok) {\n        setShowAddModal(false);\n        fetchAdmins();\n        setMessage({ type: 'success', text: 'Team member added successfully' });\n      } else {\n        const data = await res.json();\n        setMessage({ type: 'error', text: data.error || 'Failed to add team member' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to add team member' });\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  const handleRemoveAdmin = async (adminId: string) => {\n    if (!user || !organization) return;\n    if (!confirm('Are you sure you want to remove this team member?')) return;\n    \n    try {\n      const token = await user.getIdToken();\n      const res = await fetch('/api/partners/organizations', {\n        method: 'PUT',\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          organizationId: organization.id,\n          action: 'removeAdmin',\n          adminId,\n        })\n      });\n      \n      if (res.ok) {\n        fetchAdmins();\n        setMessage({ type: 'success', text: 'Team member removed' });\n      } else {\n        const data = await res.json();\n        setMessage({ type: 'error', text: data.error || 'Failed to remove team member' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to remove team member' });\n    }\n  };\n\n  const canManageTeam = partnerAdmin?.role === 'owner';\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Message */}\n      {message && (\n        <div className={`px-4 py-3 rounded-xl text-sm ${\n          message.type === 'success' \n            ? 'bg-green-50 border border-green-200 text-green-700' \n            : 'bg-red-50 border border-red-200 text-red-700'\n        }`}>\n          {message.text}\n        </div>\n      )}\n\n      {/* Organization Profile */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Organization Profile</h2>\n        \n        <form onSubmit={handleSaveProfile} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Organization Name</label>\n              <input\n                type=\"text\"\n                value={organization?.name || ''}\n                disabled\n                className=\"w-full px-4 py-2 border border-gray-200 rounded-xl bg-gray-50 text-gray-500\"\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">Contact support to change</p>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Slug</label>\n              <input\n                type=\"text\"\n                value={organization?.slug || ''}\n                disabled\n                className=\"w-full px-4 py-2 border border-gray-200 rounded-xl bg-gray-50 text-gray-500\"\n              />\n            </div>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n            <textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              rows={3}\n              placeholder=\"Tell users about your organization...\"\n              className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n            <input\n              type=\"url\"\n              value={website}\n              onChange={(e) => setWebsite(e.target.value)}\n              placeholder=\"https://yourcompany.com\"\n              className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Brand Color</label>\n            <div className=\"flex items-center gap-4\">\n              <input\n                type=\"color\"\n                value={primaryColor}\n                onChange={(e) => setPrimaryColor(e.target.value)}\n                className=\"w-12 h-12 rounded-lg border border-gray-200 cursor-pointer\"\n              />\n              <input\n                type=\"text\"\n                value={primaryColor}\n                onChange={(e) => setPrimaryColor(e.target.value)}\n                pattern=\"^#[0-9A-Fa-f]{6}$\"\n                className=\"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent w-32 font-mono\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex justify-end\">\n            <button\n              type=\"submit\"\n              disabled={saving}\n              className=\"px-6 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50\"\n            >\n              {saving ? 'Saving...' : 'Save Changes'}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Partnership Info */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Partnership Details</h2>\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <p className=\"text-sm text-gray-500\">Tier</p>\n            <p className=\"font-semibold text-gray-900 capitalize\">{organization?.tier}</p>\n          </div>\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <p className=\"text-sm text-gray-500\">Status</p>\n            <p className={`font-semibold capitalize ${\n              organization?.status === 'active' ? 'text-green-600' : 'text-gray-600'\n            }`}>{organization?.status}</p>\n          </div>\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <p className=\"text-sm text-gray-500\">Max Active Users</p>\n            <p className=\"font-semibold text-gray-900\">{organization?.maxActiveUsers}</p>\n          </div>\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <p className=\"text-sm text-gray-500\">Default Code Duration</p>\n            <p className=\"font-semibold text-gray-900\">{organization?.defaultCodeDurationDays} days</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Team Management */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-gray-900\">Team Members</h2>\n            <p className=\"text-sm text-gray-500\">Manage who has access to this dashboard</p>\n          </div>\n          {canManageTeam && (\n            <button\n              onClick={() => setShowAddModal(true)}\n              className=\"px-4 py-2 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition-colors flex items-center gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Add Member\n            </button>\n          )}\n        </div>\n        \n        <div className=\"space-y-3\">\n          {admins.map((admin) => (\n            <div key={admin.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-orange-200 to-yellow-200 rounded-full flex items-center justify-center text-orange-700 font-semibold\">\n                  {(admin.displayName || admin.email).charAt(0).toUpperCase()}\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-900\">{admin.displayName || admin.email}</p>\n                  <p className=\"text-sm text-gray-500\">{admin.email}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <span className={`px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                  admin.role === 'owner' \n                    ? 'bg-purple-100 text-purple-700' \n                    : admin.role === 'admin'\n                    ? 'bg-blue-100 text-blue-700'\n                    : 'bg-gray-100 text-gray-600'\n                }`}>\n                  {admin.role}\n                </span>\n                {canManageTeam && admin.id !== partnerAdmin?.id && (\n                  <button\n                    onClick={() => handleRemoveAdmin(admin.id)}\n                    className=\"text-sm text-red-600 hover:text-red-700 font-medium\"\n                  >\n                    Remove\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Add Team Member Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-md w-full p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Add Team Member</h3>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <form onSubmit={handleAddAdmin} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email Address</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  required\n                  placeholder=\"team@company.com\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Must have an existing Elevatia account</p>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Display Name (optional)</label>\n                <input\n                  type=\"text\"\n                  name=\"displayName\"\n                  placeholder=\"John Smith\"\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Role</label>\n                <select \n                  name=\"role\" \n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                  defaultValue=\"admin\"\n                >\n                  <option value=\"owner\">Owner (full access + team management)</option>\n                  <option value=\"admin\">Admin (can manage codes & paths)</option>\n                  <option value=\"viewer\">Viewer (read-only access)</option>\n                </select>\n              </div>\n              \n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddModal(false)}\n                  className=\"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={adding}\n                  className=\"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50\"\n                >\n                  {adding ? 'Adding...' : 'Add Member'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}