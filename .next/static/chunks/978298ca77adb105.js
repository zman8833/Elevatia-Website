(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59467,e=>{"use strict";var t=e.i(43476),r=e.i(94690),s=e.i(71645);let a={orange:"from-orange-100 to-yellow-100 text-orange-600",green:"from-green-100 to-emerald-100 text-green-600",blue:"from-blue-100 to-cyan-100 text-blue-600",purple:"from-purple-100 to-pink-100 text-purple-600"};function l({title:e,value:r,subtitle:s,icon:l,trend:n,color:o="orange"}){return(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:r}),s&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s}),n&&(0,t.jsxs)("div",{className:`flex items-center gap-1 mt-2 text-sm ${n.isPositive?"text-green-600":"text-red-600"}`,children:[(0,t.jsx)("svg",{className:`w-4 h-4 ${!n.isPositive&&"rotate-180"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),(0,t.jsxs)("span",{children:[Math.abs(n.value),"%"]})]})]}),(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${a[o]} flex items-center justify-center`,children:l})]})})}function n(){let{user:e,organization:a}=(0,r.useAuth)(),[n,o]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{!async function(){if(e&&a)try{let t=await e.getIdToken(),r=await fetch(`/api/partners/stats?organizationId=${a.id}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();o(e)}}catch(e){console.error("Error fetching stats:",e)}finally{d(!1)}}()},[e,a]),i)return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})});if(!n)return(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Unable to load statistics"});let c=Math.max(...n.chartData?.map(e=>e.redemptions)||[1],1);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(l,{title:"Active Users",value:n.activeUsers,subtitle:"Currently using access",color:"green",icon:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,t.jsx)(l,{title:"Total Redemptions",value:n.totalRedemptions,subtitle:"All time",color:"blue",icon:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)(l,{title:"Active Codes",value:n.activeCodesCount,subtitle:"Ready to use",color:"orange",icon:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,t.jsx)(l,{title:"Expired Users",value:n.expiredUsers,subtitle:"Access ended",color:"purple",icon:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-100",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Redemptions (Last 30 Days)"}),(0,t.jsx)("div",{className:"h-48 flex items-end gap-1",children:n.chartData?.map((e,r)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-full bg-gradient-to-t from-orange-500 to-yellow-400 rounded-t transition-all hover:from-orange-600 hover:to-yellow-500",style:{height:`${Math.max(e.redemptions/c*100,4)}%`,minHeight:e.redemptions>0?"8px":"2px",opacity:e.redemptions>0?1:.3},title:`${e.date}: ${e.redemptions} redemptions`}),r%5==0&&(0,t.jsx)("span",{className:"text-xs text-gray-400 -rotate-45 origin-left whitespace-nowrap",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},e.date))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 border border-orange-100",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsx)("button",{onClick:()=>document.querySelector('[data-tab="codes"]')?.dispatchEvent(new Event("click")),className:"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200",children:"Generate New Code"}),(0,t.jsx)("button",{onClick:()=>document.querySelector('[data-tab="paths"]')?.dispatchEvent(new Event("click")),className:"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200",children:"Create Path"}),(0,t.jsx)("button",{onClick:()=>document.querySelector('[data-tab="settings"]')?.dispatchEvent(new Event("click")),className:"px-4 py-2 bg-white rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors border border-gray-200",children:"Update Profile"})]})]})]})}function o(){let{user:e,organization:a}=(0,r.useAuth)(),[l,n]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),h=async()=>{if(e&&a)try{let t=await e.getIdToken(),r=await fetch(`/api/partners/codes?organizationId=${a.id}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();n(e.codes)}}catch(e){console.error("Error fetching codes:",e)}finally{i(!1)}};(0,s.useEffect)(()=>{h()},[e,a]);let g=async t=>{if(t.preventDefault(),!e||!a)return;m(!0);let r=new FormData(t.currentTarget),s={organizationId:a.id,type:r.get("type"),maxRedemptions:"multi"===r.get("type")?parseInt(r.get("maxRedemptions")):void 0,expiresAt:r.get("expiresAt"),durationDays:parseInt(r.get("durationDays"))||a.defaultCodeDurationDays,label:r.get("label")||void 0,notes:r.get("notes")||void 0,prefix:r.get("prefix")||void 0};try{let t=await e.getIdToken();(await fetch("/api/partners/codes",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(c(!1),h())}catch(e){console.error("Error creating code:",e)}finally{m(!1)}},b=async t=>{if(e&&a)try{let r=await e.getIdToken();await fetch("/api/partners/codes",{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({codeId:t.id,organizationId:a.id,isActive:!t.isActive})}),h()}catch(e){console.error("Error toggling code:",e)}};return o?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Partner Codes"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Generate and manage access codes for your users"})]}),(0,t.jsxs)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Generate Code"]})]}),(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Code"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Label"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Redemptions"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Expires"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===l.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No codes yet. Generate your first code to get started."})}):l.map(e=>{var r,s;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"font-mono text-sm font-semibold text-gray-900 bg-gray-100 px-2 py-1 rounded",children:e.code}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.code,void(navigator.clipboard.writeText(t),p(t),setTimeout(()=>p(null),2e3))},className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy code",children:u===e.code?(0,t.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.label||(0,t.jsx)("span",{className:"text-gray-400",children:"—"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"multi"===e.type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:"multi"===e.type?"Multi-use":"Single-use"})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.currentRedemptions,"multi"===e.type&&e.maxRedemptions&&(0,t.jsxs)("span",{className:"text-gray-400",children:[" / ",e.maxRedemptions]})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date("object"==typeof(r=e.expiresAt)&&r.seconds?1e3*r.seconds:r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.isActive?new Date("object"==typeof(s=e.expiresAt)&&s.seconds?1e3*s.seconds:s)<new Date?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Expired"}):"single"===e.type&&e.currentRedemptions>=1?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Used"}):"multi"===e.type&&e.maxRedemptions&&e.currentRedemptions>=e.maxRedemptions?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:"Maxed"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Active"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"Disabled"})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>b(e),className:`text-sm font-medium transition-colors ${e.isActive?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:e.isActive?"Disable":"Enable"})})]},e.id)})})]})})}),d&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate New Code"}),(0,t.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code Type"}),(0,t.jsxs)("select",{name:"type",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent",defaultValue:"multi",children:[(0,t.jsx)("option",{value:"single",children:"Single-use (1 redemption)"}),(0,t.jsx)("option",{value:"multi",children:"Multi-use (multiple redemptions)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Redemptions (for multi-use)"}),(0,t.jsx)("input",{type:"number",name:"maxRedemptions",min:"1",defaultValue:"100",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code Expiration"}),(0,t.jsx)("input",{type:"date",name:"expiresAt",required:!0,min:new Date().toISOString().split("T")[0],defaultValue:new Date(Date.now()+7776e6).toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Duration (days after redemption)"}),(0,t.jsx)("input",{type:"number",name:"durationDays",min:"1",defaultValue:a?.defaultCodeDurationDays||30,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label (optional)"}),(0,t.jsx)("input",{type:"text",name:"label",placeholder:"e.g., Summer 2025 Promo",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code Prefix (optional)"}),(0,t.jsx)("input",{type:"text",name:"prefix",placeholder:a?.slug.toUpperCase().slice(0,4)||"CODE",maxLength:6,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent uppercase"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{name:"notes",rows:2,placeholder:"Internal notes about this code...",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50",children:x?"Creating...":"Generate Code"})]})]})]})})]})}function i(){let{user:e,organization:a}=(0,r.useAuth)(),[l,n]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[d,c]=(0,s.useState)({total:0,activeCount:0});(0,s.useEffect)(()=>{!async function(){if(e&&a)try{let t=await e.getIdToken(),r=await fetch(`/api/partners/users?organizationId=${a.id}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();n(e.users),c({total:e.total,activeCount:e.activeCount})}}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}}()},[e,a]);let x=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return o?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Affiliated Users"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Users who have redeemed your partner codes (anonymized)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.total})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Active Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:d.activeCount})]})]}),(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"User ID"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Code Used"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Redeemed"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Access Expires"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===l.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No users have redeemed codes yet."})}):l.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("code",{className:"font-mono text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:e.id})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("code",{className:"font-mono text-sm text-gray-900 bg-gray-100 px-2 py-1 rounded",children:e.codeUsed})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:x(e.redeemedAt)}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:x(e.accessExpiresAt)}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Expired"})})]},e.id))})]})})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 text-sm text-blue-700",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Privacy Protection"}),(0,t.jsx)("p",{className:"mt-1 text-blue-600",children:"User data is anonymized. You can see redemption patterns but not personal information like names or emails."})]})]})})]})}let d=[{value:"figure.walk",label:"Walking"},{value:"heart.fill",label:"Heart"},{value:"brain.head.profile",label:"Brain"},{value:"leaf.fill",label:"Leaf"},{value:"drop.fill",label:"Water"},{value:"moon.fill",label:"Moon"},{value:"sun.max.fill",label:"Sun"},{value:"bolt.fill",label:"Energy"},{value:"flame.fill",label:"Flame"},{value:"star.fill",label:"Star"}],c=[{value:"#FF6B6B",label:"Red"},{value:"#4ECDC4",label:"Teal"},{value:"#45B7D1",label:"Blue"},{value:"#96CEB4",label:"Green"},{value:"#FFEAA7",label:"Yellow"},{value:"#DDA0DD",label:"Purple"},{value:"#FF8C42",label:"Orange"},{value:"#A8E6CF",label:"Mint"}],x=["Fitness","Nutrition","Mindfulness","Sleep","Recovery","Performance","Wellness","Custom"];function m(){let{user:e,organization:a}=(0,r.useAuth)(),[l,n]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[m,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),y=async()=>{if(e&&a)try{let t=await e.getIdToken(),r=await fetch(`/api/partners/paths?organizationId=${a.id}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();n(e.paths)}}catch(e){console.error("Error fetching paths:",e)}finally{i(!1)}};(0,s.useEffect)(()=>{y()},[e,a]);let f=async t=>{if(t.preventDefault(),!e||!a)return;h(!0);let r=new FormData(t.currentTarget),s={organizationId:a.id,pathId:r.get("pathId"),title:r.get("title"),description:r.get("description"),icon:r.get("icon"),color:r.get("color"),category:r.get("category")};try{let t=await e.getIdToken();(await fetch("/api/partners/paths",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(u(!1),y())}catch(e){console.error("Error creating path:",e)}finally{h(!1)}},j=async t=>{if(e&&a)try{let r=await e.getIdToken();await fetch("/api/partners/paths",{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({pathId:t.id,organizationId:a.id,isActive:!t.isActive})}),y()}catch(e){console.error("Error toggling path:",e)}},v=async t=>{if(e&&a&&confirm("Are you sure you want to delete this path?"))try{let r=await e.getIdToken();await fetch(`/api/partners/paths?pathId=${t.id}&organizationId=${a.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}}),y()}catch(e){console.error("Error deleting path:",e)}};return o?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Partner Paths"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Create exclusive wellness paths for your users"})]}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Path"]})]}),0===l.length?(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No paths yet"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Create your first exclusive wellness path for your users."}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"text-orange-600 font-medium hover:text-orange-700",children:"Create your first path →"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,t.jsxs)("div",{className:`bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6 transition-all hover:shadow-md ${!e.isActive&&"opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl",style:{backgroundColor:e.color},children:d.find(t=>t.value===e.icon)?.label?.charAt(0)||"★"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600",children:e.category}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.pathId})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-100",children:[(0,t.jsx)("button",{onClick:()=>j(e),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${e.isActive?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e.isActive?"Deactivate":"Activate"}),(0,t.jsx)("button",{onClick:()=>v(e),className:"py-2 px-3 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Delete"})]})]},e.id))}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Path"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Path ID"}),(0,t.jsx)("input",{type:"text",name:"pathId",required:!0,placeholder:"e.g., recovery, wellness101",pattern:"[a-z0-9_]+",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase letters, numbers, and underscores only"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",name:"title",required:!0,placeholder:"e.g., Post-Workout Recovery",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{name:"description",required:!0,rows:3,placeholder:"Describe what this path helps users achieve...",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsx)("select",{name:"category",required:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:x.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),(0,t.jsx)("select",{name:"icon",required:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:d.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:c.map(e=>(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"color",value:e.value,defaultChecked:e.value===c[0].value,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-full h-10 rounded-lg border-2 border-transparent peer-checked:border-gray-900 transition-all",style:{backgroundColor:e.value},title:e.label})]},e.value))})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50",children:p?"Creating...":"Create Path"})]})]})]})})]})}function u(){let{user:e,organization:a,partnerAdmin:l}=(0,r.useAuth)(),[n,o]=(0,s.useState)([]),[i,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),[y,f]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[N,w]=(0,s.useState)("#FF6B00");(0,s.useEffect)(()=>{a&&(f(a.description||""),v(a.website||""),w(a.primaryColor||"#FF6B00"))},[a]);let k=async()=>{if(e&&a)try{let t=await e.getIdToken(),r=await fetch(`/api/partners/organizations?organizationId=${a.id}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();o(e.admins||[])}}catch(e){console.error("Error fetching admins:",e)}finally{d(!1)}};(0,s.useEffect)(()=>{k()},[e,a]);let C=async t=>{if(t.preventDefault(),e&&a){x(!0),b(null);try{let t=await e.getIdToken(),r=await fetch("/api/partners/organizations",{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({organizationId:a.id,description:y,website:j,primaryColor:N})});if(r.ok)b({type:"success",text:"Profile updated successfully"});else{let e=await r.json();b({type:"error",text:e.error||"Failed to update profile"})}}catch(e){b({type:"error",text:"Failed to update profile"})}finally{x(!1)}}},A=async t=>{if(t.preventDefault(),!e||!a)return;h(!0);let r=new FormData(t.currentTarget),s={organizationId:a.id,action:"addAdmin",email:r.get("email"),role:r.get("role"),displayName:r.get("displayName")||void 0};try{let t=await e.getIdToken(),r=await fetch("/api/partners/organizations",{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(r.ok)u(!1),k(),b({type:"success",text:"Team member added successfully"});else{let e=await r.json();b({type:"error",text:e.error||"Failed to add team member"})}}catch(e){b({type:"error",text:"Failed to add team member"})}finally{h(!1)}},S=async t=>{if(e&&a&&confirm("Are you sure you want to remove this team member?"))try{let r=await e.getIdToken(),s=await fetch("/api/partners/organizations",{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({organizationId:a.id,action:"removeAdmin",adminId:t})});if(s.ok)k(),b({type:"success",text:"Team member removed"});else{let e=await s.json();b({type:"error",text:e.error||"Failed to remove team member"})}}catch(e){b({type:"error",text:"Failed to remove team member"})}},L=l?.role==="owner";return i?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-8",children:[g&&(0,t.jsx)("div",{className:`px-4 py-3 rounded-xl text-sm ${"success"===g.type?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:g.text}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Organization Profile"}),(0,t.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),(0,t.jsx)("input",{type:"text",value:a?.name||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-xl bg-gray-50 text-gray-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,t.jsx)("input",{type:"text",value:a?.slug||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-xl bg-gray-50 text-gray-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:y,onChange:e=>f(e.target.value),rows:3,placeholder:"Tell users about your organization...",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,t.jsx)("input",{type:"url",value:j,onChange:e=>v(e.target.value),placeholder:"https://yourcompany.com",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"color",value:N,onChange:e=>w(e.target.value),className:"w-12 h-12 rounded-lg border border-gray-200 cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),pattern:"^#[0-9A-Fa-f]{6}$",className:"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent w-32 font-mono"})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50",children:c?"Saving...":"Save Changes"})})]})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Partnership Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tier"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900 capitalize",children:a?.tier})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,t.jsx)("p",{className:`font-semibold capitalize ${a?.status==="active"?"text-green-600":"text-gray-600"}`,children:a?.status})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Max Active Users"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:a?.maxActiveUsers})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Default Code Duration"}),(0,t.jsxs)("p",{className:"font-semibold text-gray-900",children:[a?.defaultCodeDurationDays," days"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Team Members"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Manage who has access to this dashboard"})]}),L&&(0,t.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Member"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-200 to-yellow-200 rounded-full flex items-center justify-center text-orange-700 font-semibold",children:(e.displayName||e.email).charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.displayName||e.email}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${"owner"===e.role?"bg-purple-100 text-purple-700":"admin"===e.role?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:e.role}),L&&e.id!==l?.id&&(0,t.jsx)("button",{onClick:()=>S(e.id),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Remove"})]})]},e.id))})]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Team Member"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"team@company.com",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must have an existing Elevatia account"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name (optional)"}),(0,t.jsx)("input",{type:"text",name:"displayName",placeholder:"John Smith",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,t.jsxs)("select",{name:"role",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent",defaultValue:"admin",children:[(0,t.jsx)("option",{value:"owner",children:"Owner (full access + team management)"}),(0,t.jsx)("option",{value:"admin",children:"Admin (can manage codes & paths)"}),(0,t.jsx)("option",{value:"viewer",children:"Viewer (read-only access)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 px-4 border border-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"flex-1 py-2 px-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-medium rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all disabled:opacity-50",children:p?"Adding...":"Add Member"})]})]})]})})]})}let p=[{id:"overview",label:"Overview",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{id:"codes",label:"Codes",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},{id:"users",label:"Users",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})},{id:"paths",label:"Paths",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})},{id:"settings",label:"Settings",icon:(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];function h(){let[e,r]=(0,s.useState)("overview");return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,t.jsx)("nav",{className:"flex gap-1 -mb-px overflow-x-auto",children:p.map(s=>(0,t.jsxs)("button",{"data-tab":s.id,onClick:()=>r(s.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${e===s.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.icon,s.label]},s.id))})}),(0,t.jsx)("div",{children:(()=>{switch(e){case"overview":default:return(0,t.jsx)(n,{});case"codes":return(0,t.jsx)(o,{});case"users":return(0,t.jsx)(i,{});case"paths":return(0,t.jsx)(m,{});case"settings":return(0,t.jsx)(u,{})}})()})]})}function g(){let{organization:e}=(0,r.useAuth)();return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back",e?.contactName?`, ${e.contactName.split(" ")[0]}`:""]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage your Elevatia partnership and track engagement"})]}),(0,t.jsx)(h,{})]})}e.s(["default",()=>g],59467)}]);